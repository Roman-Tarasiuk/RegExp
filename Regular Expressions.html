<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Regular Expressions</title>
    <link rel="shortcut icon" href="img/icon_RegExp.png">
    <link rel="stylesheet" type="text/css" href="css/regular_expressions.css">
    <script src="scripts.library.js"></script>
</head>

<body>
    <div>
        <div class="regularExpressionsPluginP">
            Input:
            <input class="clear-btn align1" type="image"
                  src="img/clear-24x24-2.png"
                  alt="Clear input"
                  title="Clear"
                  onclick="clearData('input'); showInfo('info1', '...'); fileNameEl.innerText='';">
            <span class="hover" style="margin-left: 15px;">
                <label class="btn btn-outline-success btn-sm">Open file...
                    <input id="userFile" type="file" onchange="onChange(event)" style="display: none"></input>
                </label>
                <span id="fileName" class="file-name"></span>
                <span id="info1" class="info" title="Press Esc/Shoft/Ctrl or change the input to get text info">...</span>
            </span>
        </div>
        <textarea id="input" class="w" style="height: 100px;"
            onchange="inputChanged()"
            onpaste="inputPaste()"
            onkeyup="inputKeyup(event)"
            autofocus></textarea>
    </div>

    <div id="regExpValue">
        <!-- https://codepen.io/mozzi/pen/EgZvjg -->
        <ul class='custom-menu'>
          <li onclick="resetPattern()">Reset</li>
        </ul>
        <details open="">
            <summary>
                <span class="regularExpressionsPluginP">Search for</span>
            </summary>
            <span class="description regularExpressionsPluginP">Regular expression:</span>
            <input type="image"
                      class="clear-btn"
                      src="img/clear-24x24-2.png"
                      alt="Clear input"
                      title="Clear"
                      onclick="clearData('regexp'); showInfo('info2', '...')">
            <textarea id="regexp" class="w2" style="height: 22px;"></textarea>
            <br>
            <span class="description regularExpressionsPluginP" title="Use $1, $2 syntax for replacement">Results patterrn / Replace to:</span>
            <input type="image"
                      class="clear-btn"
                      src="img/clear-24x24-2.png"
                      alt="Clear input"
                      title="Clear"
                      onclick="clearData('resultsPattern'); showInfo('info2', '...')">
            <textarea id="resultsPattern" class="w2" style="height: 22px;"
                placeholder="match[0] + '\t' + getRow(match.index) + '\t' + fileName + '\n'"></textarea>

            <div id="regularExpressionsPluginSets" style="margin-bottom: 6px; margin-top: -1px;">
                <button onclick="saveSet(false)" class="btn btn-outline-success btn-sm" disabled>Save set</button>
            </div>
        </details>
    </div>

    <div>
        <button class="btn btn-success" onclick="process()">All matches</button>
        <button class="btn btn-success" onclick="processReplace()" title="$1, $2 syntax">Replace</button>

        <span id="info2" class="info">...</span>
        
        <div class="regularExpressionsPluginP">
            Results:
            <input class="clear-btn align1" type="image"
                  src="img/clear-24x24-2.png"
                  alt="Clear results"
                  title="Clear"
                  onclick="clearData('results')">
        </div>
        <textarea id="results" class="w" style="height: 100px;"></textarea>
    </div>

    <div>
        <p class="regularExpressionsPluginP">Read more about
            <a href="Regular Expressions - JavaScript _ MDN.html"  target="_blank">Regular Expressions</a>
            and
            <a href="RegExp - JavaScript _ MDN.html"  target="_blank">RegExp</a>
        </p>
        <div class="regularExpressionsPluginP">
        <span>Some useful utilities:</span>
        <ul class="ul-links">
            <li class="li-links"><a href="string_operations.html">String operations</a></li>
            <li class="li-links"><a href="multiple_highlight.html">Multiple highlight</a></li>
            <li class="li-links"><a href="super_search.html">Super search</a></li>
            <li class="li-links"><a href="utils.html">Utils</a></li>
        </ul>
        </div>
    </div>
    
    <br>
    <button onclick="toggleSettings()">Settings</button>
    <div id="settings" class="settings">
        <span>Flags:</span>
        <input type=text id="flags" style="height: 22px;" value="g" title="gmi"></textarea>
        <br>

        <label><input id="optionWidth" type="checkbox" onclick="optionWidth();">The same width / vertical resize</input></label>
        <br>
        <span>File encoding:</span>
        <input id="encoding" value="Windows-1251"></input>
        <label for="showAuto"><input type="checkbox" id="showAuto" checked>Show file when opened</input></label>
        <br>
        <label><input type="checkbox" onclick='handleClick(this)'>Show results pattern's default context menu</label>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/regular_expressions.js"></script>
</body>
</html>